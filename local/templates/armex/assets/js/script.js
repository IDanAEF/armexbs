!function(){"use strict";var e=e=>{function t(e){let t="+7 (___) ___-__-__",a=0,c=t.replace(/\D/g,""),l=this.value.replace(/\D/g,"");c.length>=l.length&&(l=c),this.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&a<l.length?l.charAt(a++):a>=l.length?"":e})),"blur"===e.type?2==this.value.length&&(this.value=""):((e,t)=>{if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let a=t.createTextRange();a.collapse(!0),a.moveEnd("character",e),a.moveStart("character",e),a.select()}})(this.value.length,this)}document.querySelectorAll(e).forEach((e=>{e.addEventListener("input",t),e.addEventListener("focus",t),e.addEventListener("blur",t)}))},t=()=>{try{const e=document.querySelectorAll('[href^="#"]'),t=.3,a=e=>{let a=document.documentElement.scrollTop,c=document.querySelector(e).getBoundingClientRect().top-110,l=null;requestAnimationFrame((function r(s){null===l&&(l=s);let i=s-l,n=c<0?Math.max(a-i/t,a+c):Math.min(a+i/t,a+c);document.documentElement.scrollTo(0,n),n!=a+c?requestAnimationFrame(r):location.hash=e}))};window.location.hash&&a(window.location.hash),e.forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),a(this.hash)}))}))}catch(e){console.log(e.stack)}},a=()=>{try{const e=document.querySelector(".header .header__search"),t=document.querySelector(".header__menu-list"),a=e.querySelector("button"),c=e.querySelector("input");a.addEventListener("click",(a=>{window.innerWidth<992||e.classList.contains("active")||(a.preventDefault(),e.classList.add("active"),t.classList.add("search-open"),c.focus())})),document.documentElement.addEventListener("click",(l=>{l.target!=c&&l.target!=a&&(e.classList.remove("active"),t.classList.remove("search-open"))}))}catch(e){console.log(e.stack)}try{const e=document.querySelectorAll(".menu-item-has-children");document.documentElement.addEventListener("click",(t=>{if(t.target.classList.contains("menu-item-has-children")||t.target.parentElement.classList.contains("menu-item-has-children")){let a=t.target.classList.contains("menu-item-has-children")?t.target:t.target.parentElement;a.classList.contains("active")||e.forEach((e=>e.classList.remove("active"))),a.classList.toggle("active")}else t.target.closest(".menu-item-has-children")||t.target.parentElement.classList.contains("menu-item-has-children")||e.forEach((e=>e.classList.remove("active")))})),e.forEach((t=>{let a=!1;t.addEventListener("mouseenter",(()=>{window.innerWidth<=992||(e.forEach((e=>e.classList.remove("active"))),t.classList.add("active"),a=!0)})),t.addEventListener("mouseleave",(()=>{window.innerWidth<=992||(a=!1,setTimeout((()=>{a||t.classList.remove("active")}),5e3))})),t.querySelector(".sub-menu").addEventListener("mouseenter",(()=>{window.innerWidth<=992||(a=!0)})),t.querySelector(".sub-menu").addEventListener("mouseleave",(()=>{window.innerWidth<=992||(a=!1,t.classList.remove("active"))}))}))}catch(e){console.log(e.stack)}try{const e=document.querySelectorAll(".body-click-content"),t=document.querySelectorAll(".body-click-target");document.documentElement.addEventListener("click",(a=>{a.target.classList.contains("body-click-target")||a.target.classList.contains("body-click-close")?(a.target.getAttribute("data-content")?document.querySelector('.body-click-content[data-content="'+a.target.getAttribute("data-content")+'"]').classList.toggle("active"):a.target.parentElement.classList.remove("active"),!a.target.classList.contains("not-active")&&a.target.classList.toggle("active")):a.target.closest(".body-click-content")||(e.forEach((e=>e.classList.remove("active"))),t.forEach((e=>e.classList.contains("not-active")?"":e.classList.remove("active"))))}))}catch(e){console.log(e.stack)}try{const e=document.querySelector(".cookies-modal button");(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return;let a=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()\[\]\\\/+^])/g,"\\$1")+"=([^;]*)"));if(a){let e=decodeURIComponent(a[1]);if(t)try{return JSON.parse(e)}catch(e){}return e}})("cookie_agree")||(e.parentElement.classList.add("active"),e.addEventListener("click",(()=>{(function(e,t,a){var c;if(a||0===a){var l=new Date;l.setTime(l.getTime()+60*a*60*1e3),c="; expires="+l.toGMTString()}else c="";document.cookie=e+"="+encodeURIComponent(t)+c+"; path=/"})("cookie_agree",1,1e3),e.parentElement.classList.remove("active")})))}catch(e){console.log(e.stack)}try{const e=document.querySelectorAll(".rent__plans-item"),t=document.querySelectorAll(".payment-rent");e.forEach((a=>{a.addEventListener("click",(()=>{e.forEach((e=>e.classList.remove("active"))),a.classList.add("active"),t[0].textContent=a.getAttribute("data-pay1").trim()+" ₽/мес",t[1].textContent=a.getAttribute("data-pay2").trim()+" ₽/мес",t[2].textContent=a.getAttribute("data-pay3").trim()+" ₽/мес"}))}))}catch(e){console.log(e.stack)}try{const e=document.querySelectorAll(".scrollable-table table"),t=()=>{e.forEach((e=>{const t=e.querySelectorAll("tr td:first-child"),a=e.querySelectorAll("tr:first-child td");let c;t[0].setAttribute("data-width",t[0].style.width),t.forEach((e=>{e.getAttribute("colspan")&&(e.setAttribute("data-colspan",e.getAttribute("colspan")),e.removeAttribute("colspan")),e.style.width="158px",a.forEach(((e,t)=>{0!=t&&(e.setAttribute("data-width",e.style.width),e.style.width=75/(a.length-1)+"%")})),c=e.offsetHeight+5+"px",e.parentElement.style.height=c,e.style.height=c,e.classList.add("abs")}))}))},a=()=>{e.forEach((e=>{const t=e.querySelectorAll("tr td:first-child"),a=e.querySelectorAll("tr:first-child td");t.forEach((e=>{e.style.width="",e.parentElement.style.height="",e.style.height="",e.classList.remove("abs"),e.getAttribute("data-colspan")&&(e.setAttribute("colspan",e.getAttribute("data-colspan")),e.removeAttribute("data-colspan")),e.getAttribute("data-width")&&(e.style.width=e.getAttribute("data-width"),e.removeAttribute("data-width")),a.forEach(((e,t)=>{0!=t&&e.getAttribute("data-width")&&(e.style.width=e.getAttribute("data-width"),e.removeAttribute("data-width"))}))}))}))};let c=!1;window.innerWidth<=768&&(c=!0,t()),e&&window.addEventListener("resize",(()=>{window.innerWidth<=768&&!c?(c=!0,t()):window.innerWidth>768&&c&&(c=!1,a())}))}catch(e){console.log(e.stack)}try{const e=document.querySelector(".structure__main svg");e&&e.querySelectorAll(".scalable").forEach((t=>{t.addEventListener("click",(()=>{e.append(t)}))}))}catch(e){console.log(e.stack)}};window.addEventListener("DOMContentLoaded",(()=>{e('input[type="tel"]'),(()=>{try{document.querySelectorAll(".slider").forEach((e=>{let t,a=e.querySelector(".slider-track"),c=e.querySelector(".slider-list"),l=e.querySelectorAll(".slider-item"),r=e.querySelector(".slider-dots"),s=e.querySelector(".slider-right"),i=e.querySelector(".slider-left"),n=0,o=0,d=l.length;const u=()=>window.innerWidth<=576&&e.getAttribute("data-mob-vis")?+e.getAttribute("data-mob-vis"):window.innerWidth<=768&&e.getAttribute("data-tablet-vis")?+e.getAttribute("data-tablet-vis"):window.innerWidth<=1200&&e.getAttribute("data-lap-vis")?+e.getAttribute("data-lap-vis"):e.getAttribute("data-pc-vis")?+e.getAttribute("data-pc-vis"):1,h=()=>{t&&t.forEach((e=>e.classList.remove("active"))),t&&t[o].classList.add("active"),a.style.transform=`translateX(-${o*n}px)`},m=()=>{o+u()>=d?o=0:o++,h()},g=()=>{o<=0?o=d-u():o--,h()},v=()=>{n=l[0].offsetWidth+ +window.getComputedStyle(l[0]).marginRight.replace("px","")};(()=>{if(!t&&r){for(let e=0;e<d;e++)r.innerHTML+="<span></span>";t=r.querySelectorAll("span"),t[0].classList.add("active"),t.forEach(((e,t)=>{e.addEventListener("click",(()=>{o=t,h()}))}))}})(),a.style.transition="transform 0.5s ease 0s",v();let y=0;c.addEventListener("touchstart",(t=>{e.classList.contains("mobile-only")&&window.innerWidth>576||(y=t.changedTouches[0].screenX)})),c.addEventListener("touchend",(t=>{e.classList.contains("mobile-only")&&window.innerWidth>576||(y-t.changedTouches[0].screenX>50?m():y-t.changedTouches[0].screenX<-50&&g())})),s.addEventListener("click",m),i.addEventListener("click",g),window.addEventListener("resize",(()=>{v()}))}))}catch(e){console.log(e.stack)}})(),(()=>{try{document.querySelectorAll(".simple-slider").forEach((e=>{const t=e.querySelectorAll(".simple-slider-item"),a=e.querySelector(".simple-slider-dots");let c=t.length,l=0;for(let e=0;e<c;e++)a.innerHTML+="<span></span>";const r=a.querySelectorAll("span"),s=()=>{t.forEach((e=>e.classList.remove("active"))),r.forEach((e=>e.classList.remove("active"))),t[l].classList.add("active"),r[l].classList.add("active")};s();let i=setInterval((()=>{l==c-1?l=0:l++,s()}),1e4);r.forEach(((e,t)=>{e.addEventListener("click",(()=>{clearInterval(i),l=t,s(),i=setInterval((()=>{l==c-1?l=0:l++,s()}),1e4)}))}))}))}catch(e){console.log(e.stack)}})(),(()=>{try{document.querySelectorAll("form:not(.static)").forEach((e=>{const t=e.querySelectorAll("input"),a=document.querySelector('.success-modal[data-success="'+e.getAttribute("data-success")+'"]');t.forEach((e=>{let t=e.placeholder;e.addEventListener("focus",(()=>{e.classList.contains("placeholder-hide")&&(e.placeholder="")})),e.addEventListener("blur",(()=>{e.classList.contains("placeholder-hide")&&(e.placeholder=t)}))})),e.addEventListener("submit",(t=>{t.preventDefault();const c=new FormData(e);(async function(e,t){let a=await fetch(e,{method:"POST",body:t});return await a.text()})(e.action,c).then((e=>{a.classList.add("active")}))}))}))}catch(e){console.log(e.stack)}try{document.querySelectorAll(".form-list").forEach((e=>{const t=e.querySelector("input"),a=e.querySelectorAll(".form-list__item"),c=e.querySelector(".form-list__head");c.addEventListener("click",(()=>{c.classList.toggle("active"),c.nextElementSibling.classList.toggle("active")})),a.forEach((e=>{e.addEventListener("click",(()=>{c.classList.remove("active"),c.nextElementSibling.classList.remove("active"),t.value=e.textContent.trim(),c.querySelector("span").textContent=e.textContent.trim()}))})),document.documentElement.addEventListener("click",(e=>{e.target!=c&&(c.classList.remove("active"),c.nextElementSibling.classList.remove("active"))}))}))}catch(e){console.log(e.stack)}})(),(()=>{try{const e=document.querySelectorAll(".catalog__filter-control"),t=document.querySelectorAll(".catalog__filter-head");t.forEach((e=>{e.addEventListener("click",(()=>{t.forEach((t=>{e!=t&&(t.classList.remove("active"),t.nextElementSibling.classList.remove("active"))}))}))})),e.forEach((e=>{const t=e.querySelector(".catalog__filter-list"),a=e.querySelectorAll(".catalog__filter-list li"),c=e.querySelector(".catalog__filter-head"),l=e.querySelector(".catalog__filter-head .name span");a.forEach((e=>{e.addEventListener("click",(()=>{a.forEach((e=>e.classList.remove("active"))),e.classList.add("active"),t.classList.remove("active"),c.classList.remove("active"),l.textContent=e.textContent.trim()}))}))}))}catch(e){console.log(e.stack)}try{const e=document.querySelector("#catalog"),t=document.querySelector("#catalog-more"),a=document.querySelectorAll("#sort-filter > li"),c=document.querySelector("#search-page");let l,r,s=e.getAttribute("data-visible")?+e.getAttribute("data-visible").trim():12;const i=function(){let a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=document.createElement("div");i.classList.add("global-load"),e.append(i),r=+t.getAttribute("data-page"),a&&(r=1);const n=new FormData;n.append("page",r),n.append("visible",s),e.getAttribute("data-cat")&&n.append("cat",e.getAttribute("data-cat")),c&&n.append("search-string",c.getAttribute("data-text").trim()),l=r*s,async function(e,t){let a=await fetch("/ajax/products.php",{method:"POST",body:t});return await a.text()}(0,n).then((c=>{i.remove(),a?(e.innerHTML=c,t.style.display=""):e.innerHTML+=c,t.setAttribute("data-page",r+1),e.querySelectorAll(".catalog__item").length<l&&(t.style.display="none"),e.innerHTML.trim()||(e.innerHTML="Товары не найдены")}))};e&&(i(),a.forEach(((e,t)=>{e.addEventListener("click",(()=>{var e,a,c;e=t,(c=new Date).setTime(c.getTime()+144e5),a="; expires="+c.toGMTString(),document.cookie="sort-filter="+encodeURIComponent(e)+a+"; path=/",i(!0)}))})),t.addEventListener("click",(()=>{i()})))}catch(e){console.log(e.stack)}})(),t(),(()=>{try{const e=document.querySelectorAll(".sitemaps__row.parent"),t=(e,a)=>{let c=e.parentElement.closest(".sitemaps__row-sub");if(c){let e=+c.getAttribute("data-height")+a;c.style.maxHeight=e+"px",c.setAttribute("data-height",e),t(c,a)}},a=e=>{let t=0;return e.forEach((e=>{t+=e.offsetHeight})),t};e.forEach((e=>{e.addEventListener("click",(()=>{const c=e.nextElementSibling,l=a(c.querySelectorAll(".sitemaps__row"));e.classList.toggle("active"),c.classList.toggle("active"),e.classList.contains("active")?(c.style.maxHeight=l+"px",c.setAttribute("data-height",l),t(c,l)):(c.style.maxHeight="0px",c.setAttribute("data-height",0),c.querySelectorAll(".sitemaps__row.parent").forEach((e=>{let t=e.nextElementSibling;e.classList.remove("active"),t.classList.remove("active"),t.style.maxHeight="0px",t.setAttribute("data-height",0)})))}))}))}catch(e){console.log(e.stack)}})(),(()=>{try{const e=document.querySelectorAll(".gallery-items"),t=document.querySelectorAll(".gallery-call"),a=document.querySelector(".gallery__overlay"),c=document.querySelector(".gallery__overlay-close"),l=document.querySelector(".gallery__overlay-arrow.right"),r=document.querySelector(".gallery__overlay-arrow.left"),s=document.querySelector(".gallery__overlay-block");let i=document.createElement("img");i.classList.add("gallery__overlay-image"),s.append(i);let n,o=0;const d=()=>{i.src=n[o].getAttribute("data-full"),r.style.display=0==o?"none":"",o==n.length-1?l.style.display="none":l.style.display=""};e.forEach((e=>{const t=e.querySelectorAll(".gallery-item");t.forEach(((e,c)=>{e.addEventListener("click",(()=>{n=t,o=c,d(),a.classList.add("active")}))}))})),l.addEventListener("click",(()=>{o++,d()})),r.addEventListener("click",(()=>{o--,d()})),t.forEach((e=>{const t=e.nextElementSibling;e.addEventListener("click",(()=>{t.classList.contains("gallery-items")&&t.querySelector(".gallery-item").click()}))})),a.addEventListener("click",(e=>{e.target!=a&&e.target!=c||(i.src="",a.classList.remove("active"))}))}catch(e){console.log(e.stack)}})(),a()}))}();